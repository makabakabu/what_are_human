Object.defineProperty(exports,"__esModule",{value:true});var _modal=require('antd-mobile/lib/modal');var _modal2=_interopRequireDefault(_modal);var _jsxFileName='src/Container/News/Content/DrawerPage/piece.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _reactImmutableProptypes=require('react-immutable-proptypes');var _reactImmutableProptypes2=_interopRequireDefault(_reactImmutableProptypes);var _reactNativeSwipeout=require('react-native-swipeout');var _reactNativeSwipeout2=_interopRequireDefault(_reactNativeSwipeout);var _generateColor=require('../../../../Action/generateColor');var _generateColor2=_interopRequireDefault(_generateColor);var _generateSize=require('../../../../Action/generateSize');var _generateSize2=_interopRequireDefault(_generateSize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),width=_Dimensions$get.width;var alert=_modal2.default.alert;var Piece=function Piece(_ref){var content=_ref.content,text=_ref.text,light=_ref.light,fontSize=_ref.fontSize,deletePiece=_ref.deletePiece;return _react2.default.createElement(_reactNativeSwipeout2.default,{right:[{text:'删除',backgroundColor:'#aaa',color:'#6a6a6a',onPress:deletePiece}],backgroundColor:'transparent',autoClose:true,__source:{fileName:_jsxFileName,lineNumber:20}},_react2.default.createElement(_reactNative.TouchableOpacity,{__source:{fileName:_jsxFileName,lineNumber:30}},_react2.default.createElement(_reactNative.View,{style:styles.main,__source:{fileName:_jsxFileName,lineNumber:31}},_react2.default.createElement(_reactNative.View,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:32}},!content.get('read')&&_react2.default.createElement(_reactNative.Text,{style:styles.kind,__source:{fileName:_jsxFileName,lineNumber:34}},'\u672A\u8BFB'),_react2.default.createElement(_reactNative.Text,{style:[styles.title,{width:content.get('read')?width*0.8:width*0.7,color:'#'+(0,_generateColor2.default)(166,216,light),fontSize:(0,_generateSize2.default)(fontSize,20)}],__source:{fileName:_jsxFileName,lineNumber:36}},text),_react2.default.createElement(_reactNative.Text,{style:styles.order,__source:{fileName:_jsxFileName,lineNumber:37}},'\u232A')),_react2.default.createElement(_reactNative.View,{style:styles.seperator,__source:{fileName:_jsxFileName,lineNumber:39}}))));};Piece.propTypes={content:_reactImmutableProptypes2.default.map.isRequired,text:_propTypes2.default.string.isRequired,light:_propTypes2.default.number.isRequired,fontSize:_propTypes2.default.string.isRequired,deletePiece:_propTypes2.default.func.isRequired};var styles=_reactNative.StyleSheet.create({main:{width:width,height:80,alignItems:'center'},text:{height:79,width:width*0.9,flexDirection:'row',alignItems:'center',justifyContent:'space-between'},kind:{fontSize:14,color:'#aaa',width:width*0.1,textAlign:'left'},order:{fontSize:25,color:'#ededed',width:width*0.2,textAlign:'center'},title:{fontSize:16,color:'#ededed'},seperator:{opacity:0.5,width:width*0.9,height:1,backgroundColor:'#aaa'}});var mapStateToProps=function mapStateToProps(state,ownProps){var text=void 0;switch(ownProps.viewMode){case'收藏':text='\u60A8\u7684\u6F14\u8BB2\u88AB  '+ownProps.content.get('userName')+'  \u6536\u85CF\u4E86';break;case'评论':text=ownProps.content.get('userName')+'  \u8BC4\u8BBA\u4E86\u60A8';break;case'转发':text=ownProps.content.get('userName')+'  \u8F6C\u53D1\u4E86\u4F60\u7684\u6587\u7AE0';break;case'点赞':text=ownProps.content.get('userName')+'  \u70B9\u8D5E\u4E86\u60A8\u7684  '+ownProps.content.get('text')+' \u8BC4\u8BBA';break;case'回复':text=ownProps.content.get('userName')+'  \u7ED9\u60A8\u56DE\u590D\u4E86';break;case'系统消息':text=ownProps.content.get('text');break;default:break;}return{text:text,light:state.getIn(['pageSet','light']),fontSize:state.getIn(['pageSet','fontSize'])};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{deletePiece:function deletePiece(){alert('删除这条消息','',[{text:'取消',onPress:function onPress(){return console.log('cancel');}},{text:'确定',onPress:function onPress(){dispatch({type:'NEWS_DELETE',viewMode:ownProps.viewMode,newsId:ownProps.newsId});}}]);}};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Piece);