Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/Container/News/Drawer/menuItem.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),width=_Dimensions$get.width;var MenuItem=function MenuItem(_ref){var imageSource=_ref.imageSource,text=_ref.text,notRead=_ref.notRead,press=_ref.press;return _react2.default.createElement(_reactNative.TouchableOpacity,{onPress:press,__source:{fileName:_jsxFileName,lineNumber:15}},_react2.default.createElement(_reactNative.View,{style:styles.main,__source:{fileName:_jsxFileName,lineNumber:16}},notRead&&_react2.default.createElement(_reactNative.View,{style:styles.point,__source:{fileName:_jsxFileName,lineNumber:18}},_react2.default.createElement(_reactNative.Text,{style:{fontSize:10,color:'#aaa'},__source:{fileName:_jsxFileName,lineNumber:19}},'\u25CF')),_react2.default.createElement(_reactNative.Image,{style:styles.image,source:imageSource,__source:{fileName:_jsxFileName,lineNumber:22}}),_react2.default.createElement(_reactNative.Text,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:23}},' ',text,' ')));};MenuItem.propTypes={imageSource:_propTypes2.default.number.isRequired,text:_propTypes2.default.string.isRequired,notRead:_propTypes2.default.bool.isRequired,press:_propTypes2.default.func.isRequired};var styles=_reactNative.StyleSheet.create({main:{width:width*0.2,height:width*0.2,justifyContent:'center',alignItems:'center',backgroundColor:'#ededed'},point:{zIndex:10,width:width*0.08,height:width*0.01,alignItems:'flex-end',backgroundColor:'transparent'},image:{width:width*0.08,height:width*0.07},text:{fontSize:10,color:'#6a6a6a'}});var mapStateToProps=function mapStateToProps(state,ownProps){var notRead=void 0;if(ownProps.text==='未读消息'){notRead=['转发','评论','回复','点赞','收藏','系统消息'].some(function(item){return state.getIn(['news',item]).filter(function(value){return!value.get('read');}).size>0;});}else{notRead=state.getIn(['news',ownProps.text]).filter(function(value){return!value.get('read');}).size>0;}return{notRead:notRead};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{press:function press(){dispatch({type:'NEWS_VIEWMODE',viewMode:ownProps.text});ownProps.drawer.closeDrawer();}};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(MenuItem);