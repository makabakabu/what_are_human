Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/Container/Me/Content/PersonalInformation/changePassword.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _reactImmutableProptypes=require('react-immutable-proptypes');var _reactImmutableProptypes2=_interopRequireDefault(_reactImmutableProptypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),height=_Dimensions$get.height,width=_Dimensions$get.width;var ChangePassword=function ChangePassword(_ref){var password=_ref.password,changePassword=_ref.changePassword,comfirm=_ref.comfirm;return _react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:_reactNative.Keyboard.dismiss,__source:{fileName:_jsxFileName,lineNumber:20}},_react2.default.createElement(_reactNative.View,{style:styles.main,__source:{fileName:_jsxFileName,lineNumber:21}},_react2.default.createElement(_reactNative.KeyboardAvoidingView,{behavior:'position',keyboardVerticalOffset:64,__source:{fileName:_jsxFileName,lineNumber:22}},_react2.default.createElement(_reactNative.View,{style:{width:width,alignItems:'center',marginTop:height*0.05},__source:{fileName:_jsxFileName,lineNumber:23}},_react2.default.createElement(_reactNative.TextInput,{value:password.get('oriPassword'),placeholder:'\u539F\u5BC6\u7801',onChangeText:function onChangeText(text){return changePassword({text:text,kind:'oriPassword'});},style:[styles.text,{marginTop:height*0.05}],__source:{fileName:_jsxFileName,lineNumber:24}}),_react2.default.createElement(_reactNative.TextInput,{value:password.get('password'),placeholder:'\u65B0\u5BC6\u7801',onChangeText:function onChangeText(text){return changePassword({text:text,kind:'password'});},secureTextEntry:true,style:styles.text,__source:{fileName:_jsxFileName,lineNumber:25}}),_react2.default.createElement(_reactNative.TextInput,{value:password.get('passwordRepeat'),placeholder:'\u91CD\u590D\u5BC6\u7801',onChangeText:function onChangeText(text){return changePassword({text:text,kind:'passwordRepeat'});},secureTextEntry:true,style:styles.text,__source:{fileName:_jsxFileName,lineNumber:26}}),_react2.default.createElement(_reactNative.TouchableOpacity,{onPress:comfirm({password:password}),__source:{fileName:_jsxFileName,lineNumber:27}},_react2.default.createElement(_reactNative.View,{style:styles.button,__source:{fileName:_jsxFileName,lineNumber:28}},_react2.default.createElement(_reactNative.Text,{style:{color:'white',fontSize:20},__source:{fileName:_jsxFileName,lineNumber:29}},'\u786E\u5B9A')))))));};ChangePassword.propTypes={password:_reactImmutableProptypes2.default.map.isRequired,changePassword:_propTypes2.default.func.isRequired,comfirm:_propTypes2.default.func.isRequired};var styles=_reactNative.StyleSheet.create({main:{width:width,height:height*0.835,backgroundColor:'#6d6d6d',zIndex:-10,alignItems:'center'},text:{height:45,width:0.75*width,marginTop:15,paddingLeft:20,borderRadius:7,color:'#666',backgroundColor:'#ededed'},button:{height:45,width:0.75*width,marginTop:50,backgroundColor:'#a6a6a6',borderRadius:7,alignItems:'center',justifyContent:'center'}});var mapStateToProps=function mapStateToProps(state){return{password:state.getIn(['me','修改密码'])};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{changePassword:function changePassword(_ref2){var text=_ref2.text,kind=_ref2.kind;dispatch({type:'PASSWORD',kind:kind,text:text});},comfirm:function comfirm(_ref3){var password=_ref3.password;return function(){if(password.get('password')===password.get('passwordRepeat')){_reactNative.Alert.alert('修改成功');dispatch({type:'CHANGE_PASSWORD_COMFIRM',kind:'success'});}else{_reactNative.Alert.alert('修改失败');dispatch({type:'CHANGE_PASSWORD_COMFIRM',kind:'fail'});}};}};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(ChangePassword);