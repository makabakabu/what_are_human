Object.defineProperty(exports,"__esModule",{value:true});var _modal=require('antd-mobile/lib/modal');var _modal2=_interopRequireDefault(_modal);var _jsxFileName='src/Container/Me/Content/PersonalInformation/personalInformation.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _uuid=require('uuid');var _uuid2=_interopRequireDefault(_uuid);var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _reactImmutableProptypes=require('react-immutable-proptypes');var _reactImmutableProptypes2=_interopRequireDefault(_reactImmutableProptypes);var _myNewsSection=require('./myNewsSection');var _myNewsSection2=_interopRequireDefault(_myNewsSection);var _generateColor=require('../../../../Action/generateColor');var _generateColor2=_interopRequireDefault(_generateColor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),width=_Dimensions$get.width,height=_Dimensions$get.height;var alert=_modal2.default.alert;var PersonalInformation=function PersonalInformation(_ref){var light=_ref.light,me=_ref.me,imageSource=_ref.imageSource,infoList=_ref.infoList,changeInfo=_ref.changeInfo,logOff=_ref.logOff,generateSection=_ref.generateSection;return _react2.default.createElement(_reactNative.View,{__source:{fileName:_jsxFileName,lineNumber:21}},_react2.default.createElement(_reactNative.View,{style:styles.profile,__source:{fileName:_jsxFileName,lineNumber:22}},_react2.default.createElement(_reactNative.View,{style:[styles.portrait,{backgroundColor:'#'+(0,_generateColor2.default)(166,216,light)}],__source:{fileName:_jsxFileName,lineNumber:23}},_react2.default.createElement(_reactNative.Image,{style:{width:width*0.18,height:width*0.28},source:imageSource,__source:{fileName:_jsxFileName,lineNumber:24}})),_react2.default.createElement(_reactNative.Text,{style:{color:'#'+(0,_generateColor2.default)(166,216,light),fontSize:16,marginTop:5},__source:{fileName:_jsxFileName,lineNumber:26}},me.getIn(['我的信息','userName']))),_react2.default.createElement(_reactNative.View,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:28}},generateSection({me:me,infoList:infoList})),_react2.default.createElement(_reactNative.View,{style:styles.myNews,__source:{fileName:_jsxFileName,lineNumber:31}},_react2.default.createElement(_reactNative.TouchableOpacity,{onPress:changeInfo,__source:{fileName:_jsxFileName,lineNumber:32}},_react2.default.createElement(_reactNative.View,{style:styles.button,__source:{fileName:_jsxFileName,lineNumber:33}},_react2.default.createElement(_reactNative.Text,{style:{fontSize:16,color:'#ededed'},__source:{fileName:_jsxFileName,lineNumber:34}},'\u4FEE\u6539\u5BC6\u7801'))),_react2.default.createElement(_reactNative.TouchableOpacity,{onPress:logOff,__source:{fileName:_jsxFileName,lineNumber:37}},_react2.default.createElement(_reactNative.View,{style:styles.button,__source:{fileName:_jsxFileName,lineNumber:38}},_react2.default.createElement(_reactNative.Text,{style:{fontSize:16,color:'#ededed'},__source:{fileName:_jsxFileName,lineNumber:39}},'\u6CE8\u9500')))));};PersonalInformation.propTypes={light:_propTypes2.default.number.isRequired,me:_reactImmutableProptypes2.default.map.isRequired,imageSource:_propTypes2.default.number.isRequired,infoList:_propTypes2.default.array.isRequired,changeInfo:_propTypes2.default.func.isRequired,logOff:_propTypes2.default.func.isRequired,generateSection:_propTypes2.default.func.isRequired};var styles=_reactNative.StyleSheet.create({profile:{height:height*0.4,justifyContent:'center',alignItems:'center'},portrait:{width:width*0.3,height:width*0.3,borderRadius:width*0.15,justifyContent:'center',alignItems:'center'},myNews:{height:height*0.07,flexDirection:'row',justifyContent:'space-between'},button:{height:height*0.07,width:width*0.5,backgroundColor:'#aaa',alignItems:'center',justifyContent:'center'},text:{width:width,height:height*0.365,flexDirection:'row',flexWrap:'wrap',justifyContent:'space-around',alignItems:'center'}});var mapStateToProps=function mapStateToProps(state){return{imageSource:state.getIn(['me','我的信息','gender'])==='male'?require('../../../../Image/Menu/maleGrey.png'):require('../../../../Image/Menu/femaleGrey.png'),light:state.getIn(['pageSet','light']),me:state.get('me'),infoList:['我的演讲','我的转发','我的收藏','我的点赞','我的评论','我的回复']};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{changeInfo:function changeInfo(){return dispatch({type:'ME_CHANGE_INFO'});},logOff:function logOff(){alert('注销这个账户？','',[{text:'取消',onPress:function onPress(){return console.log('cancel');}},{text:'确定',onPress:function onPress(){dispatch({type:'ME_LOG_OFF'});}}]);},generateSection:function generateSection(_ref2){var me=_ref2.me,infoList=_ref2.infoList;return me.filter(function(value,key){return infoList.includes(key);}).map(function(value,key){return _react2.default.createElement(_myNewsSection2.default,{key:(0,_uuid2.default)(),name:key,num:value.size,__source:{fileName:_jsxFileName,lineNumber:114}});}).valueSeq().toArray();}};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(PersonalInformation);