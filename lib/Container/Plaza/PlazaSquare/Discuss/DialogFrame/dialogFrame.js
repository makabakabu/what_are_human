Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/Container/Plaza/PlazaSquare/Discuss/DialogFrame/dialogFrame.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _reactImmutableProptypes=require('react-immutable-proptypes');var _reactImmutableProptypes2=_interopRequireDefault(_reactImmutableProptypes);var _reactNativeAnimatable=require('react-native-animatable');var Animatable=_interopRequireWildcard(_reactNativeAnimatable);var _dialog=require('./dialog');var _dialog2=_interopRequireDefault(_dialog);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}var _Dimensions$get=_reactNative.Dimensions.get('window'),width=_Dimensions$get.width,height=_Dimensions$get.height;var DialogFrame=function DialogFrame(_ref){var content=_ref.content,visibility=_ref.visibility;return _react2.default.createElement(Animatable.View,{transition:'bottom',style:[styles.discuss,{bottom:visibility?height*0.09:-0.835*height}],__source:{fileName:_jsxFileName,lineNumber:17}},_react2.default.createElement(_reactNative.ScrollView,{__source:{fileName:_jsxFileName,lineNumber:18}},content.reduce(function(discussArray,value,key){return[].concat(_toConsumableArray(discussArray),[_react2.default.createElement(DateMark,{date:key,key:key,__source:{fileName:_jsxFileName,lineNumber:20}})],_toConsumableArray(value.map(function(nextValue,nextKey){return _react2.default.createElement(_dialog2.default,{key:nextKey,content:nextValue,time:key,discussId:nextKey,__source:{fileName:_jsxFileName,lineNumber:20}});}).valueSeq().toArray()));},[])));};var DateMark=function DateMark(_ref2){var date=_ref2.date;return _react2.default.createElement(_reactNative.View,{style:{width:width,alignItems:'center'},__source:{fileName:_jsxFileName,lineNumber:28}},_react2.default.createElement(_reactNative.View,{style:{height:30,width:100,borderRadius:5,backgroundColor:'#6a6a6a',opacity:0.3,justifyContent:'center',alignItems:'center',marginTop:10},__source:{fileName:_jsxFileName,lineNumber:29}},_react2.default.createElement(_reactNative.Text,{style:{color:'#ededed',fontSize:10},__source:{fileName:_jsxFileName,lineNumber:30}},' ',date,' ')));};DateMark.propTypes={date:_propTypes2.default.string.isRequired};DialogFrame.propTypes={content:_reactImmutableProptypes2.default.map.isRequired,visibility:_propTypes2.default.bool.isRequired};var styles=_reactNative.StyleSheet.create({discuss:{width:width,maxHeight:height*0.835,position:'absolute',borderTopWidth:1,borderStyle:'solid',backgroundColor:'#ededed',overflow:'hidden'}});var mapStateToProps=function mapStateToProps(state,ownProps){return{content:ownProps.discuss.get('content'),visibility:ownProps.discuss.get('visibility'),light:state.getIn(['pageSet','light'])};};exports.default=(0,_reactRedux.connect)(mapStateToProps)(DialogFrame);