Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/Container/Plaza/PlazaSquare/Discuss/DialogFrame/dialog.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _reactImmutableProptypes=require('react-immutable-proptypes');var _reactImmutableProptypes2=_interopRequireDefault(_reactImmutableProptypes);var _generateColor=require('../../../../../Action/generateColor');var _generateColor2=_interopRequireDefault(_generateColor);var _generateSize=require('../../../../../Action/generateSize');var _generateSize2=_interopRequireDefault(_generateSize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),width=_Dimensions$get.width;var Dialog=function Dialog(_ref){var articalUserName=_ref.articalUserName,content=_ref.content,time=_ref.time,discussId=_ref.discussId,imageSource=_ref.imageSource,isMe=_ref.isMe,light=_ref.light,fontSize=_ref.fontSize,onPress=_ref.onPress;return _react2.default.createElement(_reactNative.TouchableOpacity,{onPress:onPress({time:time,discussId:discussId}),__source:{fileName:_jsxFileName,lineNumber:18}},_react2.default.createElement(_reactNative.View,{style:{width:width,marginTop:5,flexDirection:'row',justifyContent:!isMe?'flex-start':'flex-end',alignItems:'center'},__source:{fileName:_jsxFileName,lineNumber:19}},!isMe&&_react2.default.createElement(_reactNative.Image,{style:{width:20,height:24},source:imageSource,__source:{fileName:_jsxFileName,lineNumber:20}}),_react2.default.createElement(_reactNative.View,{style:{alignItems:isMe?'flex-start':'flex-end',justifyContent:isMe?'flex-start':'center'},__source:{fileName:_jsxFileName,lineNumber:22}},!isMe&&_react2.default.createElement(_reactNative.Text,{style:{color:'#6a6a6a',fontSize:12},__source:{fileName:_jsxFileName,lineNumber:23}},content.get('userName')),content.get('to')!==articalUserName&&content.get('to')!==content.get('userName')&&_react2.default.createElement(_reactNative.Text,{style:{color:'#aaa',fontSize:10},__source:{fileName:_jsxFileName,lineNumber:24}},'@'+content.get('to')),_react2.default.createElement(_reactNative.Text,{style:{color:'#'+(0,_generateColor2.default)(50,109,light),fontSize:(0,_generateSize2.default)(fontSize,16),marginBottom:10,marginTop:5},__source:{fileName:_jsxFileName,lineNumber:25}},content.get('text'))),isMe&&_react2.default.createElement(_reactNative.Image,{style:{width:20,height:24},source:imageSource,__source:{fileName:_jsxFileName,lineNumber:27}})));};Dialog.propTypes={articalUserName:_propTypes2.default.string.isRequired,time:_propTypes2.default.string.isRequired,discussId:_propTypes2.default.string.isRequired,content:_reactImmutableProptypes2.default.map.isRequired,imageSource:_propTypes2.default.number.isRequired,isMe:_propTypes2.default.bool.isRequired,light:_propTypes2.default.number.isRequired,fontSize:_propTypes2.default.string.isRequired,onPress:_propTypes2.default.func.isRequired};var mapStateToProps=function mapStateToProps(state,ownProps){var plazaName=state.getIn(['plaza','plazaName']);var speechId=state.getIn(['plaza',plazaName,'speechId']);return{articalUserName:state.getIn(['plaza',plazaName,'content',speechId,'userName']),isMe:ownProps.content.get('userName')===state.getIn(['me','我的信息','userName']),imageSource:ownProps.content.get('gender')==='male'?require('../../../../../Image/Menu/maleGrey.png'):require('../../../../../Image/Menu/femaleGrey.png'),light:state.getIn(['pageSet','light']),fontSize:state.getIn(['pageSet','fontSize'])};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onPress:function onPress(_ref2){var time=_ref2.time,discussId=_ref2.discussId;return function(){return dispatch({type:'PLAZA_DISCUSS_PRESS_DIALOG',time:time,discussId:discussId});};}};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Dialog);