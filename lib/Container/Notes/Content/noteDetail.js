Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/Container/Notes/Content/noteDetail.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _immutable=require('immutable');var _moment=require('moment');var _moment2=_interopRequireDefault(_moment);var _reactImmutableProptypes=require('react-immutable-proptypes');var _reactImmutableProptypes2=_interopRequireDefault(_reactImmutableProptypes);var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _operationTrigger=require('../../../Component/Content/OperationPanel/operationTrigger');var _operationTrigger2=_interopRequireDefault(_operationTrigger);var _generateColor=require('../../../Action/generateColor');var _generateColor2=_interopRequireDefault(_generateColor);var _generateSize=require('../../../Action/generateSize');var _generateSize2=_interopRequireDefault(_generateSize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),height=_Dimensions$get.height,width=_Dimensions$get.width;var Section=function Section(_ref){var viewMode=_ref.viewMode,notesId=_ref.notesId,content=_ref.content,light=_ref.light,fontSize=_ref.fontSize,backToCheck=_ref.backToCheck,edit=_ref.edit,sharePress=_ref.sharePress;return _react2.default.createElement(_reactNative.View,{style:{backgroundColor:'#'+(0,_generateColor2.default)(50,109,light),width:width,height:height*0.835,alignItems:'center'},__source:{fileName:_jsxFileName,lineNumber:22}},_react2.default.createElement(_reactNative.ScrollView,{showsVerticalScrollIndicator:false,__source:{fileName:_jsxFileName,lineNumber:23}},_react2.default.createElement(_reactNative.Text,{style:[styles.text,{color:'#'+(0,_generateColor2.default)(166,216,light),fontSize:(0,_generateSize2.default)(fontSize,20)}],__source:{fileName:_jsxFileName,lineNumber:24}},content.get('text')),viewMode==='academyNotes'&&_react2.default.createElement(_reactNative.TouchableOpacity,{onPress:backToCheck({order:content.get('order')}),__source:{fileName:_jsxFileName,lineNumber:28}},_react2.default.createElement(_reactNative.Text,{style:{color:'#ededed',marginTop:5},__source:{fileName:_jsxFileName,lineNumber:29}},'\u279F \u5FAE\u65AF\u4EBA1.0\u7248\u7B2C'+content.get('order')+'\u6761',' ')),_react2.default.createElement(_reactNative.View,{style:styles.operation,__source:{fileName:_jsxFileName,lineNumber:32}},_react2.default.createElement(_reactNative.Text,{style:{color:'#ededed'},__source:{fileName:_jsxFileName,lineNumber:33}},content.get('time'),' '),_react2.default.createElement(_reactNative.TouchableOpacity,{onPress:edit({viewMode:viewMode,order:content.get('order'),notesId:notesId,title:content.get('title'),text:content.get('text')}),__source:{fileName:_jsxFileName,lineNumber:34}},_react2.default.createElement(_reactNative.View,{style:styles.img,__source:{fileName:_jsxFileName,lineNumber:35}},_react2.default.createElement(_reactNative.Image,{style:{width:20,height:20},source:require('../../../Image/notes/edit.png'),__source:{fileName:_jsxFileName,lineNumber:36}}),_react2.default.createElement(_reactNative.Text,{style:{color:'#ededed',fontSize:12},__source:{fileName:_jsxFileName,lineNumber:37}},' \u7F16\u8F91 '))),_react2.default.createElement(_operationTrigger2.default,{imageSource:require('../../../Image/Operation/share.png'),number:'\u8F6C\u53D1',press:sharePress({sourceDetail:(0,_immutable.Map)({text:'',time:(0,_moment2.default)().format('YYYY-MM-DD hh:mm'),location:(0,_immutable.Map)({viewMode:viewMode,notesId:notesId})})}),__source:{fileName:_jsxFileName,lineNumber:40}}))));};Section.propTypes={viewMode:_propTypes2.default.string.isRequired,notesId:_propTypes2.default.string.isRequired,content:_reactImmutableProptypes2.default.map.isRequired,light:_propTypes2.default.number.isRequired,fontSize:_propTypes2.default.string.isRequired,backToCheck:_propTypes2.default.func.isRequired,edit:_propTypes2.default.func.isRequired,sharePress:_propTypes2.default.func.isRequired};var styles=_reactNative.StyleSheet.create({text:{width:_reactNative.Dimensions.get('window').width*0.9,fontSize:20,color:'white',marginTop:5,lineHeight:30},img:{flexDirection:'row',width:50,height:20,alignItems:'center'},operation:{width:_reactNative.Dimensions.get('window').width*0.9,height:40,marginTop:5,flexDirection:'row',justifyContent:'space-between',alignItems:'center'}});var mapStateToProps=function mapStateToProps(state){var viewMode=state.getIn(['notes','viewMode']);var notesId=state.getIn(['notes',viewMode,'notesId']);return{viewMode:viewMode,notesId:notesId,content:state.getIn(['notes',viewMode,'notes',notesId]),light:state.getIn(['pageSet','light']),fontSize:state.getIn(['pageSet','fontSize'])};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{edit:function edit(_ref2){var viewMode=_ref2.viewMode,order=_ref2.order,notesId=_ref2.notesId,title=_ref2.title,text=_ref2.text;return function(){if(viewMode==='academyNotes'){dispatch({type:'NOTES_ACADEMYNOTES_EDIT',order:order,title:title,text:text});}else{dispatch({type:'NOTES_WINKTHOUGHT_EDIT',title:title,text:text,notesId:notesId});}};},backToCheck:function backToCheck(_ref3){var order=_ref3.order;return function(){dispatch({type:'CHANGE_VIEWMODE',viewMode:'academy'});dispatch({type:'ACADEMY_PIECE_2_SECTION',order:order});};},sharePress:function sharePress(_ref4){var sourceDetail=_ref4.sourceDetail;return function(){dispatch({type:'OPERATION_2_SHARE',source:'notes',sourceDetail:sourceDetail});dispatch({type:'NOTES_SHARE_PRESS',viewMode:'share'});};}};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Section);