Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/Container/Notes/Content/WinkThought/edit.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _immutable=require('immutable');var _moment=require('moment');var _moment2=_interopRequireDefault(_moment);var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _reactImmutableProptypes=require('react-immutable-proptypes');var _reactImmutableProptypes2=_interopRequireDefault(_reactImmutableProptypes);var _generateColor=require('../../../../Action/generateColor');var _generateColor2=_interopRequireDefault(_generateColor);var _generateSize=require('../../../../Action/generateSize');var _generateSize2=_interopRequireDefault(_generateSize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),height=_Dimensions$get.height;var Edit=function Edit(_ref){var notes=_ref.notes,notesId=_ref.notesId,light=_ref.light,fontSize=_ref.fontSize,changeTitle=_ref.changeTitle,changeText=_ref.changeText,comfirm=_ref.comfirm,share=_ref.share;return _react2.default.createElement(_reactNative.View,{style:[styles.main,{backgroundColor:'#'+(0,_generateColor2.default)(50,109,light)}],__source:{fileName:_jsxFileName,lineNumber:22}},_react2.default.createElement(_reactNative.KeyboardAvoidingView,{behavior:'padding',keyboardVerticalOffset:64,__source:{fileName:_jsxFileName,lineNumber:23}},_react2.default.createElement(_reactNative.ScrollView,{showsVerticalScrollIndicator:false,scrollEnabled:true,__source:{fileName:_jsxFileName,lineNumber:24}},_react2.default.createElement(_reactNative.TextInput,{value:notes.get('title'),onChangeText:function onChangeText(value){return changeTitle({value:value,notesId:notesId});},placeholder:'\u6807\u9898',style:[styles.title,{color:'#'+(0,_generateColor2.default)(50,109,light),fontSize:(0,_generateSize2.default)(fontSize,20),backgroundColor:'#'+(0,_generateColor2.default)(166,216,light)}],__source:{fileName:_jsxFileName,lineNumber:25}}),_react2.default.createElement(_reactNative.TextInput,{value:notes.get('text'),onChangeText:function onChangeText(value){return changeText({value:value,notesId:notesId});},placeholder:'\u5185\u5BB9',style:[styles.text,{color:'#'+(0,_generateColor2.default)(50,109,light),fontSize:(0,_generateSize2.default)(fontSize,20),backgroundColor:'#'+(0,_generateColor2.default)(166,216,light)}],multiline:true,__source:{fileName:_jsxFileName,lineNumber:26}}),_react2.default.createElement(_reactNative.View,{style:{height:30,flexDirection:'row',justifyContent:'space-between',marginTop:10},__source:{fileName:_jsxFileName,lineNumber:27}},_react2.default.createElement(_reactNative.TouchableOpacity,{onPress:comfirm({title:notes.get('title')}),__source:{fileName:_jsxFileName,lineNumber:28}},_react2.default.createElement(_reactNative.View,{style:{height:30,width:50,backgroundColor:'#aaa',justifyContent:'center',alignItems:'center'},__source:{fileName:_jsxFileName,lineNumber:29}},_react2.default.createElement(_reactNative.Text,{style:{color:'#ededed',fontSize:14},__source:{fileName:_jsxFileName,lineNumber:30}},'\u5B8C\u6210'))),_react2.default.createElement(_reactNative.TouchableOpacity,{onPress:share({sourceDetail:(0,_immutable.Map)({text:'',time:(0,_moment2.default)().format('YYYY-MM-DD hh:mm'),location:(0,_immutable.Map)({viewMode:'winkThought',notesId:notesId})})}),__source:{fileName:_jsxFileName,lineNumber:35}},_react2.default.createElement(_reactNative.View,{style:{height:30,width:50,backgroundColor:'#aaa',justifyContent:'center',alignItems:'center'},__source:{fileName:_jsxFileName,lineNumber:44}},_react2.default.createElement(_reactNative.Text,{style:{color:'#ededed',fontSize:14},__source:{fileName:_jsxFileName,lineNumber:45}},'\u8F6C\u53D1')))),_react2.default.createElement(_reactNative.View,{style:{height:30},__source:{fileName:_jsxFileName,lineNumber:51}}))));};Edit.propTypes={notes:_reactImmutableProptypes2.default.map.isRequired,notesId:_propTypes2.default.string.isRequired,light:_propTypes2.default.number.isRequired,fontSize:_propTypes2.default.string.isRequired,changeTitle:_propTypes2.default.func.isRequired,changeText:_propTypes2.default.func.isRequired,comfirm:_propTypes2.default.func.isRequired,share:_propTypes2.default.func.isRequired};var styles=_reactNative.StyleSheet.create({main:{width:'100%',height:height*0.835,backgroundColor:'#6d6d6d',zIndex:-10,alignItems:'center'},title:{width:_reactNative.Dimensions.get('window').width*0.9,height:30,backgroundColor:'#ededed',borderRadius:3,fontSize:20,color:'#707070',marginTop:10,paddingLeft:10},text:{width:_reactNative.Dimensions.get('window').width*0.9,height:250,backgroundColor:'#ededed',borderRadius:3,fontSize:20,color:'#707070',paddingLeft:10,marginTop:10,lineHeight:30},content:{width:_reactNative.Dimensions.get('window').width*0.9,borderRadius:10,fontSize:20,color:'#ededed',paddingLeft:10,marginTop:30,lineHeight:30},operation:{width:_reactNative.Dimensions.get('window').width*0.9,height:40,marginTop:5,flexDirection:'row',justifyContent:'center',alignItems:'center'}});var mapStateToProps=function mapStateToProps(state){var notesId=state.getIn(['notes','winkThought','notesId']);return{notes:state.getIn(['notes','winkThought','notes',notesId]),notesId:notesId,light:state.getIn(['pageSet','light']),fontSize:state.getIn(['pageSet','fontSize'])};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{changeText:function changeText(_ref2){var value=_ref2.value,notesId=_ref2.notesId;return dispatch({type:'NOTES_CHANGE_TEXT',notesId:notesId,value:value});},changeTitle:function changeTitle(_ref3){var value=_ref3.value,notesId=_ref3.notesId;return dispatch({type:'NOTES_CHANGE_TITLE',notesId:notesId,value:value});},share:function share(_ref4){var sourceDetail=_ref4.sourceDetail;return function(){dispatch({type:'OPERATION_2_SHARE',source:'notes',sourceDetail:sourceDetail});dispatch({type:'NOTES_SHARE_PRESS',viewMode:'share'});};},comfirm:function comfirm(_ref5){var title=_ref5.title;return function(){return dispatch({type:'WINKTHOUGHT_EDIT_COMFIRM',title:title});};}};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Edit);