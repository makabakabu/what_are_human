Object.defineProperty(exports,"__esModule",{value:true});var _toast=require('antd-mobile/lib/toast');var _toast2=_interopRequireDefault(_toast);var _jsxFileName='src/Component/footer.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _generateColor=require('../Action/generateColor');var _generateColor2=_interopRequireDefault(_generateColor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),height=_Dimensions$get.height,width=_Dimensions$get.width;var Footer=function Footer(_ref){var backTo=_ref.backTo,notRead=_ref.notRead,light=_ref.light,viewMode=_ref.viewMode,changeViewMode=_ref.changeViewMode,isSignIn=_ref.isSignIn;return _react2.default.createElement(_reactNative.View,{style:[styles.main,{backgroundColor:'#'+(0,_generateColor2.default)(166,216,light)}],__source:{fileName:_jsxFileName,lineNumber:17}},_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:changeViewMode({viewMode:'academy',isSignIn:isSignIn}),__source:{fileName:_jsxFileName,lineNumber:18}},_react2.default.createElement(_reactNative.View,{style:styles.item,__source:{fileName:_jsxFileName,lineNumber:19}},viewMode==='academy'||backTo==='academy'?_react2.default.createElement(_reactNative.Image,{style:{width:40,height:30},source:require('../Image/Footer/academyAfter.png'),__source:{fileName:_jsxFileName,lineNumber:22}}):_react2.default.createElement(_reactNative.Image,{style:{width:40,height:30},source:require('../Image/Footer/academy.png'),__source:{fileName:_jsxFileName,lineNumber:23}}),_react2.default.createElement(_reactNative.Text,{style:{fontSize:12,color:'#'+(0,_generateColor2.default)(50,109,light),marginTop:3},__source:{fileName:_jsxFileName,lineNumber:25}},'\u5B66\u9662'))),_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:changeViewMode({viewMode:'notes',isSignIn:isSignIn}),__source:{fileName:_jsxFileName,lineNumber:28}},_react2.default.createElement(_reactNative.View,{style:styles.item,__source:{fileName:_jsxFileName,lineNumber:29}},viewMode==='notes'||backTo==='notes'?_react2.default.createElement(_reactNative.Image,{style:{width:30,height:30},source:require('../Image/Footer/notesAfter.png'),__source:{fileName:_jsxFileName,lineNumber:32}}):_react2.default.createElement(_reactNative.Image,{style:{width:30,height:30},source:require('../Image/Footer/notes.png'),__source:{fileName:_jsxFileName,lineNumber:33}}),_react2.default.createElement(_reactNative.Text,{style:{fontSize:12,color:'#'+(0,_generateColor2.default)(50,109,light),marginTop:3},__source:{fileName:_jsxFileName,lineNumber:35}},'\u7B14\u8BB0'))),_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:changeViewMode({viewMode:'plaza',isSignIn:isSignIn}),__source:{fileName:_jsxFileName,lineNumber:38}},_react2.default.createElement(_reactNative.View,{style:styles.item,__source:{fileName:_jsxFileName,lineNumber:39}},viewMode==='plaza'||backTo==='plaza'?_react2.default.createElement(_reactNative.Image,{style:{width:40,height:30},source:require('../Image/Footer/plazaAfter.png'),__source:{fileName:_jsxFileName,lineNumber:42}}):_react2.default.createElement(_reactNative.Image,{style:{width:40,height:30},source:require('../Image/Footer/plaza.png'),__source:{fileName:_jsxFileName,lineNumber:43}}),_react2.default.createElement(_reactNative.Text,{style:{fontSize:12,color:'#'+(0,_generateColor2.default)(50,109,light),marginTop:3},__source:{fileName:_jsxFileName,lineNumber:45}},'\u5E7F\u573A'))),_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:changeViewMode({viewMode:'news',isSignIn:isSignIn}),__source:{fileName:_jsxFileName,lineNumber:48}},_react2.default.createElement(_reactNative.View,{style:[styles.item,{marginTop:notRead>0?-5:0}],__source:{fileName:_jsxFileName,lineNumber:49}},notRead>0&&_react2.default.createElement(_reactNative.View,{style:styles.point,__source:{fileName:_jsxFileName,lineNumber:51}},_react2.default.createElement(_reactNative.Text,{style:{fontSize:10,color:'#6a6a6a'},__source:{fileName:_jsxFileName,lineNumber:52}},'\u25CF')),viewMode==='news'||backTo==='news'?_react2.default.createElement(_reactNative.Image,{style:{width:27,height:30},source:require('../Image/Footer/newsAfter.png'),__source:{fileName:_jsxFileName,lineNumber:57}}):_react2.default.createElement(_reactNative.Image,{style:{width:27,height:30},source:require('../Image/Footer/news.png'),__source:{fileName:_jsxFileName,lineNumber:58}}),_react2.default.createElement(_reactNative.Text,{style:{fontSize:12,color:'#'+(0,_generateColor2.default)(50,109,light),marginTop:3},__source:{fileName:_jsxFileName,lineNumber:60}},'\u6D88\u606F'))),_react2.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:changeViewMode({viewMode:'me',isSignIn:isSignIn}),__source:{fileName:_jsxFileName,lineNumber:63}},_react2.default.createElement(_reactNative.View,{style:styles.item,__source:{fileName:_jsxFileName,lineNumber:64}},viewMode==='me'||backTo==='me'?_react2.default.createElement(_reactNative.Image,{style:{width:30,height:30},source:require('../Image/Footer/meAfter.png'),__source:{fileName:_jsxFileName,lineNumber:67}}):_react2.default.createElement(_reactNative.Image,{style:{width:30,height:30},source:require('../Image/Footer/me.png'),__source:{fileName:_jsxFileName,lineNumber:68}}),_react2.default.createElement(_reactNative.Text,{style:{fontSize:12,color:'#'+(0,_generateColor2.default)(50,109,light),marginTop:3},__source:{fileName:_jsxFileName,lineNumber:70}},'\u6211'))));};Footer.propTypes={notRead:_propTypes2.default.bool.isRequired,backTo:_propTypes2.default.string.isRequired,light:_propTypes2.default.number.isRequired,viewMode:_propTypes2.default.string.isRequired,isSignIn:_propTypes2.default.bool.isRequired,changeViewMode:_propTypes2.default.func.isRequired};var styles=_reactNative.StyleSheet.create({main:{width:width,height:height*0.09,flexDirection:'row',justifyContent:'center',alignItems:'center',shadowColor:'#333',backgroundColor:'#ededed',shadowOffset:{width:2,height:-2},shadowOpacity:0.7},point:{zIndex:10,width:width*0.08,height:width*0.01,alignItems:'flex-end',backgroundColor:'transparent'},item:{width:'20%',height:'100%',flexDirection:'column',justifyContent:'center',alignItems:'center'}});var mapDispatchToProps=function mapDispatchToProps(dispatch){return{changeViewMode:function changeViewMode(_ref2){var viewMode=_ref2.viewMode,isSignIn=_ref2.isSignIn;return function(){var notSignInToastMap={notes:'请先登录查看笔记',news:'请先登录查看消息',me:'请先登录查看个人信息'};console.log(isSignIn);if(!isSignIn&&['notes','news','me'].includes(viewMode)){_toast2.default.fail(notSignInToastMap[viewMode],1,null,false);}dispatch({type:'CHANGE_VIEWMODE',viewMode:viewMode});};}};};var mapStateToProps=function mapStateToProps(state){return{notRead:['评论','回复','点赞','收藏','系统消息'].some(function(value){return state.getIn(['news',value]).size>0;}),backTo:state.get('viewMode')==='menu'?state.getIn(['menu','backTo']):'',light:state.getIn(['pageSet','light']),viewMode:state.get('viewMode'),isSignIn:state.getIn(['me','我的信息','userName'])!==''};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Footer);