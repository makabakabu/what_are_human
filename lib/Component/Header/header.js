Object.defineProperty(exports,"__esModule",{value:true});var _jsxFileName='src/Component/Header/header.js';var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _reactRedux=require('react-redux');var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _menu=require('./Menu/menu');var _menu2=_interopRequireDefault(_menu);var _generateColor=require('../../Action/generateColor');var _generateColor2=_interopRequireDefault(_generateColor);var _generateSize=require('../../Action/generateSize');var _generateSize2=_interopRequireDefault(_generateSize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _Dimensions$get=_reactNative.Dimensions.get('window'),height=_Dimensions$get.height,width=_Dimensions$get.width;var Header=function Header(_ref){var light=_ref.light,fontSize=_ref.fontSize,title=_ref.title,canBack=_ref.canBack,onPressTitle=_ref.onPressTitle,pressBack=_ref.pressBack;return _react2.default.createElement(_reactNative.View,{style:[styles.capital,{backgroundColor:'#'+(0,_generateColor2.default)(166,216,light)}],__source:{fileName:_jsxFileName,lineNumber:24}},_react2.default.createElement(_reactNative.StatusBar,{hidden:true,__source:{fileName:_jsxFileName,lineNumber:25}}),_react2.default.createElement(_reactNative.TouchableOpacity,{onPress:pressBack,__source:{fileName:_jsxFileName,lineNumber:26}},_react2.default.createElement(_reactNative.View,{style:{width:width*0.12,height:height*0.075,justifyContent:'center',alignItems:'flex-end'},__source:{fileName:_jsxFileName,lineNumber:27}},canBack&&_react2.default.createElement(_reactNative.Image,{style:{width:22,height:18},source:require('../../Image/Menu/back.png'),__source:{fileName:_jsxFileName,lineNumber:28}}))),_react2.default.createElement(_reactNative.Text,{onPress:onPressTitle,style:[styles.capitalTitle,{color:'#'+(0,_generateColor2.default)(50,109,light),fontSize:(0,_generateSize2.default)(fontSize,20)}],__source:{fileName:_jsxFileName,lineNumber:31}},title),_react2.default.createElement(_menu2.default,{__source:{fileName:_jsxFileName,lineNumber:32}}));};Header.propTypes={light:_propTypes2.default.number.isRequired,fontSize:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,canBack:_propTypes2.default.bool.isRequired,onPressTitle:_propTypes2.default.func.isRequired,pressBack:_propTypes2.default.func.isRequired};var styles=_reactNative.StyleSheet.create({capital:{width:width,height:height*0.075,flexDirection:'row',alignItems:'center',justifyContent:'flex-end',shadowColor:'#333',shadowOffset:{width:2,height:2},shadowOpacity:0.7,zIndex:10},capitalTitle:{width:width*0.76,color:'#8f8f8f',fontSize:20,textAlign:'center'}});var mapStateToProps=function mapStateToProps(state){var canBack=true;switch(state.get('viewMode')){case'academy':if(state.getIn(['academy','viewMode'])==='main'){canBack=false;}break;case'plaza':if(state.getIn(['plaza','plazaName'])==='main'){canBack=false;}break;case'notes':{var notesViewMode=state.getIn(['notes','viewMode']);if(state.getIn(['notes',notesViewMode,'viewMode'])==='main'){canBack=false;}break;}case'news':if(state.getIn(['news','viewMode'])==='未读消息'){canBack=false;}break;case'me':if(state.getIn(['me','viewMode'])==='我的信息'){canBack=false;}break;default:break;}return{canBack:canBack,light:state.getIn(['pageSet','light']),fontSize:state.getIn(['pageSet','fontSize'])};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onPressTitle:function onPressTitle(){return dispatch({type:'CHANGE_VIEWMODE',viewMode:'home'});},pressBack:function pressBack(){return dispatch({type:'BACK'});}};};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Header);